<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Queue Status</title>
    <link rel="stylesheet" href="bootstrap.min.css">
    <link rel="stylesheet" href="customer_queue_style.css">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <script src="jquery-3.6.0.min.js"></script>
    <style>
        /* Styling for pill-shaped buttons */
        .nav-pills .nav-link {
            border-radius: 50px;
            font-weight: bold;
            padding: 10px 20px;
            text-align: center;
        }

        .nav-pills .nav-link.active {
            background-color: #007bff;
            color: #fff;
        }

        .tab-content {
            margin-top: 20px;
        }
        
        .center-message {
            text-align: center;
        }

        #attention-color {
            color: rgba(141, 78, 27, 0.801);
        }

        .gray {
            color: gray;
        }
    </style>
</head>
<body>

    <!-- Header -->
    <header>STI College - Tagaytay</header>

    <!-- Main Container -->
    <div class="container" id="container">
        <div class="wait-time"><span id="waiting-time">00:00</span></div>     
        <p id="confirmation-text">You have successfully joined the queue.</p>
        
        <div class="hint-text" id="window-name"><strong>Location</strong></div>
        <div class="hint-text">Your number is:</div>
        <div class="queue-number" id="queue-number">Number</div>
        <p class="hint-text" id="timestamp-text">Timestamp</p>
    </div>

    <div class="container" id="form-container">
        <!-- Warning message -->
        <i><p class="center-message gray"><span id="attention-color">Attention:</span> Internet connection is required to send data to the system.</p></i>
        <!-- Pill Navigation for SMS and Email -->
        <ul class="nav nav-pills justify-content-center" id="promptTabs" role="tablist">
            <li class="nav-item">
                <button class="nav-link active" id="sms-tab" data-bs-toggle="tab" data-bs-target="#sms" type="button" role="tab" aria-controls="sms" aria-selected="true">SMS</button>
            </li>
            <li class="nav-item">
                <button class="nav-link" id="email-tab" data-bs-toggle="tab" data-bs-target="#email" type="button" role="tab" aria-controls="email" aria-selected="false">Email</button>
            </li>
        </ul>

        <!-- Tab Content -->
        <div class="tab-content mt-3">
            <!-- SMS Tab -->
            <div class="tab-pane fade show active" id="sms" role="tabpanel" aria-labelledby="sms-tab">
                <form id="sms-form">
                    <label for="mobile-number">Mobile Number</label>
                    <input type="tel" id="mobile-number" class="form-control" placeholder="Enter Mobile Number" pattern="[0-9]*" maxlength="10" required>
                    <button type="submit" class="btn btn-primary mt-3 w-100">Send Mobile Number</button>
                </form>
            </div>

            <!-- Email Tab -->
            <div class="tab-pane fade" id="email" role="tabpanel" aria-labelledby="email-tab">
                <form id="email-form">
                    <label for="email-address">Email Address</label>
                    <input type="email" id="email-address" class="form-control" placeholder="Enter Email Address" required>
                    <button type="submit" class="btn btn-primary mt-3 w-100">Send Email</button>
                </form>
            </div>
        </div>
    </div>

    <script>
        const mobileNumberTextInput = document.getElementById('mobile-number');
        const emailNumberTextInput = document.getElementById('email-address');

        // JavaScript to manage tab switching and forms
        document.addEventListener('DOMContentLoaded', () => {
            // Add event listeners for form submission
            const smsForm = document.getElementById('sms-form');
            const emailForm = document.getElementById('email-form');

            smsForm.addEventListener('submit', (event) => {
                event.preventDefault();
                const mobileNumber = document.getElementById('mobile-number').value;
                alert(`SMS sent to ${mobileNumber}`);
                // Logic to handle SMS submission can go here
            });

            emailForm.addEventListener('submit', (event) => {
                event.preventDefault();
                const emailAddress = document.getElementById('email-address').value;
                alert(`Email sent to ${emailAddress}`);
                // Logic to handle Email submission can go here
            });
        });

        // EMAIL TEXT INPUT LISTENERS

        // MOBILE TEXT INPUT LISTENERS
        // Add an event listener to enforce the rules as the user types
        mobileNumberTextInput.addEventListener('input', function () {
            // Remove all characters except numbers and the '+' sign
            this.value = this.value.replace(/[^0-9+]/g, '');

            // Enforce a maximum length of 13 characters
            if (this.value.length > 13) {
                this.value = this.value.slice(0, 13);
            }
        });

        // Add validation on form submission to ensure the length is between 11 and 13 characters
        mobileNumberTextInput.closest('form').addEventListener('submit', function (event) {
            const inputLength = mobileNumberTextInput.value.length;

            if (inputLength < 11 || inputLength > 13) {
                event.preventDefault(); // Prevent form submission
                alert('The mobile number must be between 11 and 13 characters long.');
            }
        });
    </script>
    <script src="bootstrap.bundle.min.js"></script>
</body>
</html>
